<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Products</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo"><a href="index.html" style="color:white;">Flipkart</a></div>
        <div class="search-container"><input type="text" placeholder="Search..."></div>
        <div class="nav-links">
            <a href="index.html" class="login-btn">Home</a>
            <div class="cart-icon">ðŸ›’ Cart</div>
        </div>
    </nav>

    <div class="cat-container">
        <div class="sidebar">
            <div class="filter-group">
                <h3>Filters</h3>
            </div>
            <div class="filter-group">
                <h4>Price</h4>
                <br>
                <input type="range" min="0" max="100000" style="width:100%">
            </div>
            <div class="filter-group">
                <h4>Brand</h4>
                <br>
                <label><input type="checkbox"> Apple</label><br>
                <label><input type="checkbox"> Samsung</label><br>
                <label><input type="checkbox"> Nike</label>
            </div>
            <div class="filter-group">
                <h4>Customer Ratings</h4>
                <br>
                <label><input type="checkbox"> 4â˜… & above</label><br>
                <label><input type="checkbox"> 3â˜… & above</label>
            </div>
        </div>

        <div class="main-content">
            <h2 id="page-title" style="margin-bottom:20px; text-transform:capitalize;">All Products</h2>
            <div class="grid-view" id="grid-container">
                </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const type = params.get('type'); // e.g., 'mobile'
        const grid = document.getElementById('grid-container');

        // Logic: If 'type' exists, filter. If not, show all.
        let displayProducts = type ? products.filter(p => p.category === type) : products;

        if(type) document.getElementById('page-title').innerText = type + " Store";

        grid.innerHTML = displayProducts.map(p => `
            <div class="product-card" onclick="window.location.href='product.html?id=${p.id}'">
                <img src="${p.img}" alt="${p.title}">
                <div class="product-title">${p.title}</div>
                <div class="product-rating">${p.rating} â˜…</div>
                <div class="product-price">${formatPrice(p.price)}</div>
            </div>
        `).join('');
    </script>
</body>
</html>